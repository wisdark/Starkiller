import{_ as l}from"./ListPageTop.167dc090.js";import{i as d,bl as c,n as p,b as r,l as o,ad as u,a1 as i}from"./index.81c4d563.js";import{_ as n}from"./VSwitch.35d52e8f.js";import"./VBreadcrumbs.8405c320.js";const m={components:{ListPageTop:l},data(){return{form:{},rules:{password:[t=>!!t||"Password is required",t=>!!t&&t.length>5||"Password must be larger than 5 characters"],confirmPassword:[t=>!!t||"Confirmation is required",t=>t===this.form.password||"Password must match"]},showPassword:!1,showConfirm:!1,loading:!1,valid:!1,breads:[{text:"Settings",disabled:!0,href:"/settings"}]}},computed:{...d({user:t=>t.application.user,darkMode:t=>t.application.darkMode,chatWidget:t=>t.application.chatWidget}),userId(){return this.user.id},darkModeSwitch:{set(t){this.$store.dispatch("application/darkMode",t)},get(){return this.darkMode}},chatWidgetSwitch:{set(t){this.$store.dispatch("application/chatWidget",t)},get(){return this.chatWidget}}},methods:{async logout(){await this.$root.$confirm("","Are you sure you want to logout?",{color:"green"})&&this.$store.dispatch("application/logout")},clearState(){this.$store.dispatch("application/clear")},submit(){this.loading||!this.$refs.form.validate()||(this.loading=!0,c(this.user.id,this.form.password).then(()=>{this.$snack.success("Password updated"),this.form={},this.$refs.form.resetValidation(),this.loading=!1}).catch(t=>{this.$snack.error(`Error: ${t}`),this.loading=!1}))}}};var f=function(){var s=this,a=s._self._c;return a("div",[a(l,{attrs:{breads:s.breads}}),a("div",{staticClass:"page"},[a("div",{staticClass:"first-part"},[a("span",[s._v(s._s(s.user.username))]),a(r,{attrs:{color:"primary",text:""},on:{click:s.logout}},[s._v(" Logout ")])],1),a(o),a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a(n,{attrs:{label:"Dark Mode"},model:{value:s.darkModeSwitch,callback:function(e){s.darkModeSwitch=e},expression:"darkModeSwitch"}}),a(n,{staticClass:"pl-8",attrs:{label:"Chat Widget"},model:{value:s.chatWidgetSwitch,callback:function(e){s.chatWidgetSwitch=e},expression:"chatWidgetSwitch"}})],1),a(o),s._m(0),a(u,{ref:"form",staticStyle:{"max-width":"500px"},nativeOn:{submit:function(e){return e.preventDefault(),s.submit.apply(null,arguments)}},model:{value:s.valid,callback:function(e){s.valid=e},expression:"valid"}},[a(i,{attrs:{type:s.showPassword?"text":"password","append-icon":s.showPassword?"fa-eye":"fa-eye-slash",rules:s.rules.password,label:"Password",autocomplete:"off",outlined:"",dense:"",required:""},on:{"click:append":function(e){s.showPassword=!s.showPassword}},model:{value:s.form.password,callback:function(e){s.$set(s.form,"password",e)},expression:"form.password"}}),a(i,{attrs:{type:s.showConfirm?"text":"password","append-icon":s.showConfirm?"fa-eye":"fa-eye-slash",rules:s.rules.confirmPassword,label:"Confirm Password",autocomplete:"off",outlined:"",dense:"",required:""},on:{"click:append":function(e){s.showConfirm=!s.showConfirm}},model:{value:s.form.confirmPassword,callback:function(e){s.$set(s.form,"confirmPassword",e)},expression:"form.confirmPassword"}}),a(r,{staticClass:"mt-4 mb-4 primary",attrs:{type:"submit",loading:s.loading}},[s._v(" submit ")])],1),a(o),a("div",{staticClass:"headers pl-0 mt-2"},[s._m(1),a(r,{attrs:{color:"error"},on:{click:s.clearState}},[s._v(" Clear ")])],1),a(o)],1)],1)},h=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"headers pl-0 mt-2"},[s("h4",[t._v("Update Password")])])},function(){var t=this,s=t._self._c;return s("div",[s("h4",[t._v(" Clear Application State ")]),s("span",[t._v(" This will clear UI preferences and other localstorage data.")])])}],_=p(m,f,h,!1,null,null,null,null);const k=_.exports;export{k as default};
